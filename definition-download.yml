# ============================================================================
# Innovation Review Configuration - LOCAL TEST
# ============================================================================

# Project metadata
project:
  name: "Digital Innovation Review"
  description: "Systematic literature review on supplier involvement in digital innovation"
  researcher: "Ilja Heitlager"
  email: "i.heitlager@tue.nl"
  institution: "TU Eindhoven"
  start_date: "2024-01-15"
  research_question: "How do incumbent firms involve suppliers in digital innovation processes?"

# Database configuration
database:
  host: "localhost"
  port: 5432
  name: "paper_scanner"
  user: "pdfuser"
  password: "pdfpass"

# Search definition
search:
  name: "Supplier Digital Innovation Review"
  description: "Papers on supplier/vendor involvement in digital innovation and transformation"
  
  # Search string (for documentation) 
  query_definition: 
    - "(vendor* OR supplier* OR partner* OR 'service provider' OR provider*) AND ('digital innovation' OR 'digital strategy' OR 'digital transformation')" 

  # Date range
  date_range:
    from: 2015
    to: 2024
  
  # Databases searched
  databases:
    - scopus
    - web_of_science
    - ieee_xplore

# Import configuration - using local test data
steps:
  - step: Load a review paper 
    builtin.paper:
      papers:
        - doi: 10.1186/s13731-024-00404-5
          article-type: journal_article

  - step: Import sample BibTeX files from different sources
    builtin.bibtex_import:
      limit: 25
      imports:        
        - name: "Scopus Dataset"
          file_path: "data/bib/scopus.bib"
          source_type: "scopus"
          fix_cite_key: true
          expected_count: 19

  - step: "Get the full details"
    builtin.retrieve_metadata:
      methods:
        - openalex
      overwrite: false

  - step: Download pdfs
    builtin.download_pdfs:
      timeout: 30
      store_path: "output/pdf"
      sources:
        # - "unpaywall"
        - "publisher"
        # - "core"
        # - "openalex"
      output_errors: output/pdf_errors.json

  - step: Export database to BibTeX format
    builtin.export:
      format: bibtex
      output_path: "./output/papers_test.bib"
      duplicates: false
      overwrite: true

  # # Expansion configuration (snowballing) 
  # - step: Snowball database selection
  #   builtin.citations:

  #     # Backward citations 
  #     backward: 
  #       paper-types:
  #         - "journal_article"    
  #       limit: 15
  #       citations: 
  #         - "crossref"
  #       details:
  #         - "crossref" 
  #         - "openalex"
  #       output_errors: output/errors.json

  # - step: "Dump database contents"
  #   builtin.dump_db:
  #     citations:

  # - step: "Explain totals"
  #   builtin.summarize:
  #     summary: true
  #     bibliography: true

  # - step: Export database to JSONL format
  #   builtin.export:
  #     format: jsonl
  #     # output: stdout
  #     output_path: "./output/papers_test.jsonl"
  #     exclude_none: true
  #     duplicates: false
  #     overwrite: true

