# ============================================================================
# Innovation Review Configuration - LOCAL TEST
# ============================================================================

# Project metadata
project:
  name: "Supplier Digital Innovation Review"
  description: "Systematic literature review on supplier involvement in digital innovation"
  researcher: "Ilja Heitlager"
  institution: "TU Eindhoven"
  email: "i.heitlager@tue.nl"
  start_date: "2024-01-15"
  research_question: "How do incumbent firms involve suppliers in digital innovation processes?"

# Database configuration
database:
  host: "localhost"
  port: 5432
  name: "paper_scanner"
  user: "pdfuser"
  password: "pdfpass"

# Search definition
search:
  name: "Supplier Digital Innovation Review"
  description: "Papers on supplier/vendor involvement in digital innovation and transformation"
  
  # Search string (for documentation) 
  query_definition: 
    - "(vendor* OR supplier* OR partner* OR 'service provider' OR provider*) AND ('digital innovation' OR 'digital strategy' OR 'digital transformation')" 

  # Date range
  date_range:
    from: 2015
    to: 2024
  
  # Databases searched
  databases:
    - scopus
    - web_of_science
    - ieee_xplore


# Import configuration - using local test data
steps:
  - step: Import sample BibTeX files from different sources
    builtin.bibtex_import:
      batch_id: "import_test_20241209"
      imports:
        - name: "Scopus Dataset"
          file_path: "data/bib/scopus.bib"
          source_type: "scopus"
          fix_cite_key: true
          expected_count: 19

        - name: "IEEE Dataset"
          file_path: "data/bib/ieee.bib"
          source_type: "ieee_xplore"
          expected_count: 20
          
        - name: "Web of Science Dataset"
          file_path: "data/bib/wos.bib"
          source_type: "web_of_science"
          expected_count: 20

  - step: "Intermediate message"
    builtin.echo:
      message: "Processing complete - bibtex imported"

  - step: Save checkpoint after import
    builtin.checkpoint:

  - step: Deduplicate papers using multiple matching methods
    builtin.deduplication:
      methods:
        - method: "doi_exact"
          priority: 1
        - method: "title_author_fuzzy"
          priority: 2
          threshold: 0.90
        - method: "title_fuzzy"
          priority: 3
          threshold: 0.95

  - step: Save checkpoint after deduplication
    builtin.checkpoint:

  - step: Display screening results
    builtin.summarize:
      screening: true
      bibliography: true


  - step: Export no DOI database to BibTeX format
    builtin.export:
      format: bibtex
      output_path: "./output/papers_no_doi.bib"
      doi: none
      overwrite: true